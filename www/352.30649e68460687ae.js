"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[352],{6854:(w,v,a)=>{a.d(v,{I:()=>c,T:()=>L});var g=a(5861),m=a(8177);class c{constructor(o){this.southwest=o.southwest,this.center=o.center,this.northeast=o.northeast}contains(o){var u=this;return(0,g.Z)(function*(){return(yield m.S.mapBoundsContains({bounds:u,point:o})).contains})()}extend(o){var u=this;return(0,g.Z)(function*(){const f=yield m.S.mapBoundsExtend({bounds:u,point:o});return u.southwest=f.bounds.southwest,u.center=f.bounds.center,u.northeast=f.bounds.northeast,u})()}}var L=function(t){return t.Normal="Normal",t.Hybrid="Hybrid",t.Satellite="Satellite",t.Terrain="Terrain",t.None="None",t}(L||{})},8177:(w,v,a)=>{a.d(v,{S:()=>m});const m=(0,a(2726).fo)("CapacitorGoogleMaps",{web:()=>a.e(4059).then(a.bind(a,4059)).then(c=>new c.CapacitorGoogleMapsWeb)});m.addListener("isMapInFocus",c=>{var L;const u=document.elementFromPoint(c.x,c.y),r=(null===(L=null==u?void 0:u.dataset)||void 0===L?void 0:L.internalId)===c.mapId;m.dispatchMapEvent({id:c.mapId,focus:r})})},352:(w,v,a)=>{a.r(v),a.d(v,{MapaPageModule:()=>T});var g=a(6814),m=a(95),c=a(6728),L=a(3912),t=a(5861),o=a(6242),u=a(6854),f=a(2726),r=a(8177);class Z extends HTMLElement{constructor(){super()}connectedCallback(){if(this.innerHTML="","ios"==f.dV.getPlatform()){this.style.overflow="scroll",this.style["-webkit-overflow-scrolling"]="touch";const e=document.createElement("div");e.style.height="200%",this.appendChild(e)}}}customElements.define("capacitor-google-map",Z);class y{constructor(e){this.element=null,this.resizeObserver=null,this.handleScrollEvent=()=>this.updateMapBounds(),this.id=e}static create(e,n){return(0,t.Z)(function*(){const i=new y(e.id);if(!e.element)throw new Error("container element is required");void 0===e.config.androidLiteMode&&(e.config.androidLiteMode=!1),i.element=e.element,i.element.dataset.internalId=e.id;const d=yield y.getElementBounds(e.element);if(e.config.width=d.width,e.config.height=d.height,e.config.x=d.x,e.config.y=d.y,e.config.devicePixelRatio=window.devicePixelRatio,"android"==f.dV.getPlatform()&&i.initScrolling(),f.dV.isNativePlatform()){e.element={};const l=()=>{var C,k;const S=null!==(k=null===(C=i.element)||void 0===C?void 0:C.getBoundingClientRect())&&void 0!==k?k:{};return{x:S.x,y:S.y,width:S.width,height:S.height}},h=()=>{r.S.onDisplay({id:i.id,mapBounds:l()})},P=()=>{r.S.onResize({id:i.id,mapBounds:l()})},p=i.element.closest(".ion-page");"ios"===f.dV.getPlatform()&&p&&(p.addEventListener("ionViewWillEnter",()=>{setTimeout(()=>{h()},100)}),p.addEventListener("ionViewDidEnter",()=>{setTimeout(()=>{h()},100)}));const M={width:d.width,height:d.height,isHidden:!1};i.resizeObserver=new ResizeObserver(()=>{if(null!=i.element){const C=i.element.getBoundingClientRect(),k=0===C.width&&0===C.height;k||(M.isHidden?"ios"===f.dV.getPlatform()&&!p&&h():(M.width!==C.width||M.height!==C.height)&&P()),M.width=C.width,M.height=C.height,M.isHidden=k}}),i.resizeObserver.observe(i.element)}if(yield new Promise((l,h)=>{setTimeout((0,t.Z)(function*(){try{yield r.S.create(e),l(void 0)}catch(P){h(P)}}),200)}),n){const l=yield r.S.addListener("onMapReady",h=>{h.mapId==i.id&&(n(h),l.remove())})}return i})()}static getElementBounds(e){return(0,t.Z)(function*(){return new Promise(n=>{let i=e.getBoundingClientRect();if(0==i.width){let d=0;const l=setInterval(function(){0==i.width&&d<30?(i=e.getBoundingClientRect(),d++):(30==d&&console.warn("Map size could not be determined"),clearInterval(l),n(i))},100)}else n(i)})})()}enableTouch(){var e=this;return(0,t.Z)(function*(){return r.S.enableTouch({id:e.id})})()}disableTouch(){var e=this;return(0,t.Z)(function*(){return r.S.disableTouch({id:e.id})})()}enableClustering(e){var n=this;return(0,t.Z)(function*(){return r.S.enableClustering({id:n.id,minClusterSize:e})})()}disableClustering(){var e=this;return(0,t.Z)(function*(){return r.S.disableClustering({id:e.id})})()}addMarker(e){var n=this;return(0,t.Z)(function*(){return(yield r.S.addMarker({id:n.id,marker:e})).id})()}addMarkers(e){var n=this;return(0,t.Z)(function*(){return(yield r.S.addMarkers({id:n.id,markers:e})).ids})()}removeMarker(e){var n=this;return(0,t.Z)(function*(){return r.S.removeMarker({id:n.id,markerId:e})})()}removeMarkers(e){var n=this;return(0,t.Z)(function*(){return r.S.removeMarkers({id:n.id,markerIds:e})})()}addPolygons(e){var n=this;return(0,t.Z)(function*(){return(yield r.S.addPolygons({id:n.id,polygons:e})).ids})()}addPolylines(e){var n=this;return(0,t.Z)(function*(){return(yield r.S.addPolylines({id:n.id,polylines:e})).ids})()}removePolygons(e){var n=this;return(0,t.Z)(function*(){return r.S.removePolygons({id:n.id,polygonIds:e})})()}addCircles(e){var n=this;return(0,t.Z)(function*(){return(yield r.S.addCircles({id:n.id,circles:e})).ids})()}removeCircles(e){var n=this;return(0,t.Z)(function*(){return r.S.removeCircles({id:n.id,circleIds:e})})()}removePolylines(e){var n=this;return(0,t.Z)(function*(){return r.S.removePolylines({id:n.id,polylineIds:e})})()}destroy(){var e=this;return(0,t.Z)(function*(){var n;return"android"==f.dV.getPlatform()&&e.disableScrolling(),f.dV.isNativePlatform()&&(null===(n=e.resizeObserver)||void 0===n||n.disconnect()),e.removeAllMapListeners(),r.S.destroy({id:e.id})})()}setCamera(e){var n=this;return(0,t.Z)(function*(){return r.S.setCamera({id:n.id,config:e})})()}getMapType(){var e=this;return(0,t.Z)(function*(){const{type:n}=yield r.S.getMapType({id:e.id});return u.T[n]})()}setMapType(e){var n=this;return(0,t.Z)(function*(){return r.S.setMapType({id:n.id,mapType:e})})()}enableIndoorMaps(e){var n=this;return(0,t.Z)(function*(){return r.S.enableIndoorMaps({id:n.id,enabled:e})})()}enableTrafficLayer(e){var n=this;return(0,t.Z)(function*(){return r.S.enableTrafficLayer({id:n.id,enabled:e})})()}enableAccessibilityElements(e){var n=this;return(0,t.Z)(function*(){return r.S.enableAccessibilityElements({id:n.id,enabled:e})})()}enableCurrentLocation(e){var n=this;return(0,t.Z)(function*(){return r.S.enableCurrentLocation({id:n.id,enabled:e})})()}setPadding(e){var n=this;return(0,t.Z)(function*(){return r.S.setPadding({id:n.id,padding:e})})()}getMapBounds(){var e=this;return(0,t.Z)(function*(){return new u.I(yield r.S.getMapBounds({id:e.id}))})()}fitBounds(e,n){var i=this;return(0,t.Z)(function*(){return r.S.fitBounds({id:i.id,bounds:e,padding:n})})()}initScrolling(){const e=document.getElementsByTagName("ion-content");for(let n=0;n<e.length;n++)e[n].scrollEvents=!0;window.addEventListener("ionScroll",this.handleScrollEvent),window.addEventListener("scroll",this.handleScrollEvent),window.addEventListener("resize",this.handleScrollEvent),screen.orientation?screen.orientation.addEventListener("change",()=>{setTimeout(this.updateMapBounds,500)}):window.addEventListener("orientationchange",()=>{setTimeout(this.updateMapBounds,500)})}disableScrolling(){window.removeEventListener("ionScroll",this.handleScrollEvent),window.removeEventListener("scroll",this.handleScrollEvent),window.removeEventListener("resize",this.handleScrollEvent),screen.orientation?screen.orientation.removeEventListener("change",()=>{setTimeout(this.updateMapBounds,1e3)}):window.removeEventListener("orientationchange",()=>{setTimeout(this.updateMapBounds,1e3)})}updateMapBounds(){if(this.element){const e=this.element.getBoundingClientRect();r.S.onScroll({id:this.id,mapBounds:{x:e.x,y:e.y,width:e.width,height:e.height}})}}setOnCameraIdleListener(e){var n=this;return(0,t.Z)(function*(){n.onCameraIdleListener&&n.onCameraIdleListener.remove(),n.onCameraIdleListener=e?yield r.S.addListener("onCameraIdle",n.generateCallback(e)):void 0})()}setOnBoundsChangedListener(e){var n=this;return(0,t.Z)(function*(){n.onBoundsChangedListener&&n.onBoundsChangedListener.remove(),n.onBoundsChangedListener=e?yield r.S.addListener("onBoundsChanged",n.generateCallback(e)):void 0})()}setOnCameraMoveStartedListener(e){var n=this;return(0,t.Z)(function*(){n.onCameraMoveStartedListener&&n.onCameraMoveStartedListener.remove(),n.onCameraMoveStartedListener=e?yield r.S.addListener("onCameraMoveStarted",n.generateCallback(e)):void 0})()}setOnClusterClickListener(e){var n=this;return(0,t.Z)(function*(){n.onClusterClickListener&&n.onClusterClickListener.remove(),n.onClusterClickListener=e?yield r.S.addListener("onClusterClick",n.generateCallback(e)):void 0})()}setOnClusterInfoWindowClickListener(e){var n=this;return(0,t.Z)(function*(){n.onClusterInfoWindowClickListener&&n.onClusterInfoWindowClickListener.remove(),n.onClusterInfoWindowClickListener=e?yield r.S.addListener("onClusterInfoWindowClick",n.generateCallback(e)):void 0})()}setOnInfoWindowClickListener(e){var n=this;return(0,t.Z)(function*(){n.onInfoWindowClickListener&&n.onInfoWindowClickListener.remove(),n.onInfoWindowClickListener=e?yield r.S.addListener("onInfoWindowClick",n.generateCallback(e)):void 0})()}setOnMapClickListener(e){var n=this;return(0,t.Z)(function*(){n.onMapClickListener&&n.onMapClickListener.remove(),n.onMapClickListener=e?yield r.S.addListener("onMapClick",n.generateCallback(e)):void 0})()}setOnPolygonClickListener(e){var n=this;return(0,t.Z)(function*(){n.onPolygonClickListener&&n.onPolygonClickListener.remove(),n.onPolygonClickListener=e?yield r.S.addListener("onPolygonClick",n.generateCallback(e)):void 0})()}setOnCircleClickListener(e){var n=this;return(0,t.Z)(function*(){n.onCircleClickListener&&n.onCircleClickListener.remove(),n.onCircleClickListener=e?yield r.S.addListener("onCircleClick",n.generateCallback(e)):void 0})()}setOnMarkerClickListener(e){var n=this;return(0,t.Z)(function*(){n.onMarkerClickListener&&n.onMarkerClickListener.remove(),n.onMarkerClickListener=e?yield r.S.addListener("onMarkerClick",n.generateCallback(e)):void 0})()}setOnPolylineClickListener(e){var n=this;return(0,t.Z)(function*(){n.onPolylineClickListener&&n.onPolylineClickListener.remove(),n.onPolylineClickListener=e?yield r.S.addListener("onPolylineClick",n.generateCallback(e)):void 0})()}setOnMarkerDragStartListener(e){var n=this;return(0,t.Z)(function*(){n.onMarkerDragStartListener&&n.onMarkerDragStartListener.remove(),n.onMarkerDragStartListener=e?yield r.S.addListener("onMarkerDragStart",n.generateCallback(e)):void 0})()}setOnMarkerDragListener(e){var n=this;return(0,t.Z)(function*(){n.onMarkerDragListener&&n.onMarkerDragListener.remove(),n.onMarkerDragListener=e?yield r.S.addListener("onMarkerDrag",n.generateCallback(e)):void 0})()}setOnMarkerDragEndListener(e){var n=this;return(0,t.Z)(function*(){n.onMarkerDragEndListener&&n.onMarkerDragEndListener.remove(),n.onMarkerDragEndListener=e?yield r.S.addListener("onMarkerDragEnd",n.generateCallback(e)):void 0})()}setOnMyLocationButtonClickListener(e){var n=this;return(0,t.Z)(function*(){n.onMyLocationButtonClickListener&&n.onMyLocationButtonClickListener.remove(),n.onMyLocationButtonClickListener=e?yield r.S.addListener("onMyLocationButtonClick",n.generateCallback(e)):void 0})()}setOnMyLocationClickListener(e){var n=this;return(0,t.Z)(function*(){n.onMyLocationClickListener&&n.onMyLocationClickListener.remove(),n.onMyLocationClickListener=e?yield r.S.addListener("onMyLocationClick",n.generateCallback(e)):void 0})()}removeAllMapListeners(){var e=this;return(0,t.Z)(function*(){e.onBoundsChangedListener&&(e.onBoundsChangedListener.remove(),e.onBoundsChangedListener=void 0),e.onCameraIdleListener&&(e.onCameraIdleListener.remove(),e.onCameraIdleListener=void 0),e.onCameraMoveStartedListener&&(e.onCameraMoveStartedListener.remove(),e.onCameraMoveStartedListener=void 0),e.onClusterClickListener&&(e.onClusterClickListener.remove(),e.onClusterClickListener=void 0),e.onClusterInfoWindowClickListener&&(e.onClusterInfoWindowClickListener.remove(),e.onClusterInfoWindowClickListener=void 0),e.onInfoWindowClickListener&&(e.onInfoWindowClickListener.remove(),e.onInfoWindowClickListener=void 0),e.onMapClickListener&&(e.onMapClickListener.remove(),e.onMapClickListener=void 0),e.onPolylineClickListener&&(e.onPolylineClickListener.remove(),e.onPolylineClickListener=void 0),e.onMarkerClickListener&&(e.onMarkerClickListener.remove(),e.onMarkerClickListener=void 0),e.onPolygonClickListener&&(e.onPolygonClickListener.remove(),e.onPolygonClickListener=void 0),e.onCircleClickListener&&(e.onCircleClickListener.remove(),e.onCircleClickListener=void 0),e.onMarkerDragStartListener&&(e.onMarkerDragStartListener.remove(),e.onMarkerDragStartListener=void 0),e.onMarkerDragListener&&(e.onMarkerDragListener.remove(),e.onMarkerDragListener=void 0),e.onMarkerDragEndListener&&(e.onMarkerDragEndListener.remove(),e.onMarkerDragEndListener=void 0),e.onMyLocationButtonClickListener&&(e.onMyLocationButtonClickListener.remove(),e.onMyLocationButtonClickListener=void 0),e.onMyLocationClickListener&&(e.onMyLocationClickListener.remove(),e.onMyLocationClickListener=void 0)})()}generateCallback(e){const n=this.id;return i=>{i.mapId==n&&e(i)}}}const E=(0,f.fo)("Geolocation",{web:()=>a.e(579).then(a.bind(a,579)).then(s=>new s.GeolocationWeb)});let I=(()=>{var s;class e{constructor(){this.apiKey="AIzaSyAbBUI4NYtxMFDCOlq2Bky6cvrnIiiPqic"}initializeMap(i){var d=this;return(0,t.Z)(function*(){const l=yield d.getCurrentPosition();d.map||(d.map=yield y.create({id:"my-map",element:i,apiKey:d.apiKey,config:{center:{lat:l.coords.latitude,lng:l.coords.longitude},zoom:15}}))})()}addMarkerToMap(i,d,l){var h=this;return(0,t.Z)(function*(){h.map&&(yield h.map.addMarker({coordinate:{lat:i,lng:d},title:l}))})()}getCurrentPosition(){return(0,t.Z)(function*(){return yield E.getCurrentPosition()})()}}return(s=e).\u0275fac=function(i){return new(i||s)},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),e})();const B=["mapaElement"],b=[{path:"",component:(()=>{var s;class e{constructor(i){this.mapaService=i,this.currentLatitude=null,this.currentLongitude=null}ngOnInit(){var i=this;return(0,t.Z)(function*(){if(i.mapElement){const d=i.mapElement.nativeElement;try{yield i.mapaService.initializeMap(d);const l=yield i.mapaService.getCurrentPosition();l?(i.currentLatitude=l.coords.latitude,i.currentLongitude=l.coords.longitude,i.mapaService.addMarkerToMap(l.coords.latitude,l.coords.longitude,"Su Ubicacion")):console.error("Error al buscar su posicion.")}catch(l){console.error("Error iniciando mapa:",l)}}})()}}return(s=e).\u0275fac=function(i){return new(i||s)(o.Y36(I))},s.\u0275cmp=o.Xpm({type:s,selectors:[["app-mapa"]],viewQuery:function(i,d){if(1&i&&o.Gf(B,7),2&i){let l;o.iGM(l=o.CRH())&&(d.mapElement=l.first)}},decls:19,vars:4,consts:[[3,"translucent"],["slot","start"],["src","../../assets/imagenes/logo.png","alt","logo",2,"width","100px"],["slot","end"],["defaultHref","/"],[3,"fullscreen"],["id","map",2,"width","100%","height","400px"],["mapaElement",""],["routerLink","/menu"],["expand","block","fill","outline",2,"width","100%"]],template:function(i,d){1&i&&(o.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),o._uU(3,"Mapa"),o.qZA(),o.TgZ(4,"ion-buttons",1),o._UZ(5,"ion-img",2),o.TgZ(6,"ion-buttons",3),o._UZ(7,"ion-back-button",4),o.qZA()()()(),o.TgZ(8,"ion-content",5)(9,"ion-content"),o._UZ(10,"div",6,7),o.TgZ(12,"p"),o._uU(13),o.qZA(),o.TgZ(14,"p"),o._uU(15),o.qZA(),o.TgZ(16,"ion-item",8)(17,"ion-button",9),o._uU(18," Volver al Menu "),o.qZA()()()()),2&i&&(o.Q6J("translucent",!0),o.xp6(8),o.Q6J("fullscreen",!0),o.xp6(5),o.hij("Latitude: ",d.currentLatitude,""),o.xp6(2),o.hij("Longitude: ",d.currentLongitude,""))},dependencies:[c.YG,c.Sm,c.W2,c.Gu,c.Xz,c.Ie,c.wd,c.sr,c.oU,c.YI,L.rH]}),e})()}];let D=(()=>{var s;class e{}return(s=e).\u0275fac=function(i){return new(i||s)},s.\u0275mod=o.oAB({type:s}),s.\u0275inj=o.cJS({imports:[L.Bz.forChild(b),L.Bz]}),e})(),T=(()=>{var s;class e{}return(s=e).\u0275fac=function(i){return new(i||s)},s.\u0275mod=o.oAB({type:s}),s.\u0275inj=o.cJS({imports:[g.ez,m.u5,c.Pc,D]}),e})()}}]);